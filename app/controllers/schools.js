// Generated by CoffeeScript 1.6.3
import Ember from 'ember';
var schoolsController;

schoolsController = Ember.ArrayController.extend({
  itemController: "school",
  sortProperties: ['name'],
  sortAscending: false,
  schoolName: "",
  modalButtons: [
    Ember.Object.create({
      title: 'Cancelar',
      clicked: "cancel",
      dismiss: 'modal'
    }), Ember.Object.create({
      title: 'Guardar',
      type: "primary",
      clicked: "submit",
      id: "btn_saveNewSchool"
    })
  ],
  actions: {
    addSchool: function() {
      console.log("Add School!!");
      return Bootstrap.ModalManager.show('schoolModal');
    },
    submit: function() {
      var promise, school;
      console.log("SUBMIT!!");
      school = this.get('store').createRecord('school', {
        name: this.schoolName,
        type: this.schoolType,
        city: this.schoolCity,
        state: this.schoolState,
        createdAt: new Date()
      });
      this.set('schoolName', '');
      this.set('schoolCity', '');
      promise = school.save();
      return Bootstrap.ModalManager.hide('schoolModal', function(error) {
        school.rollback();
        return alert(error);
      });
    },
    cancel: function() {
      return console.log("Cancel!!");
    }
  }
});

export default schoolsController;
